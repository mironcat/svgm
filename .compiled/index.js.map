{"version":3,"sources":["../lib/index.js"],"names":["prepareSVG","rawSvg","filename","mode","document","SVG","svgdom","groups","gi","defaultresults","console","log"],"mappings":"AAAA;;;;;;;AAOA;;;;;;;AAEA;;AACA;;AACA;;AACA;;AAEA,SAASA,UAAT,CAAqBC,MAArB,EAA6BC,QAA7B,EAAuC;AACrC,MAAIC,IAAI,GAAG,MAAX,CADqC,CAErC;;AACA,MAAI,OAAOC,QAAP,KAAoB,WAAxB,EAAqCD,IAAI,GAAG,MAAP;;AAEnC,MAAIE,GAAG,GAAGC,eAAOH,IAAP,EAAaF,MAAb,CAAV,CALmC,CAKH;AAClC;;;AACA,MAAIM,MAAM,GAAG,uBAAUF,GAAV,CAAb,CAPqC,CASrC;;AACA,MAAIG,EAAE,GAAG,0BAAcD,MAAd,EAAsBF,GAAtB,CAAT,CAVqC,CAUA;AACrC;;AACA,SAAO,yBAAWG,EAAX,EAAeN,QAAf,CAAP;AACA;;;;;AAKD;;AAAA;AAED,IAAIO,cAAc,GAAGT,UAAU,CAAC,EAAD,EAAK,cAAL,CAA/B;AACAU,OAAO,CAACC,GAAR,CAAYF,cAAZ","sourcesContent":["/**\r\n * svgm\r\n * https://github.com/mironcat/svgm\r\n *\r\n * Copyright (c) 2018 mironcat\r\n * Licensed under the MIT license.\r\n */\r\n'use strict';\r\n\r\nimport { svgdom } from './canvas';\r\nimport { getGroups } from './groups';\r\nimport { getGroupItems } from './items';\r\nimport { getResults } from \"./prepres\";\r\n\r\nfunction prepareSVG (rawSvg, filename) {\r\n  let mode = \"html\";\r\n  //debugger;\r\n  if (typeof document === \"undefined\") mode = \"node\";\r\n\r\n    let SVG = svgdom[mode](rawSvg); //mode of svg dom: node or html\r\n  //groups with scalebars\r\n  let groups = getGroups(SVG);\r\n\r\n  //extract and measure elements\r\n  let gi = getGroupItems(groups, SVG); //array\r\n  //console.log(\"from index:\", gi);\r\n  return getResults(gi, filename);\r\n  /*\r\n    // testingg\r\n     let rect = SVG.select('rect').members[0];\r\n    console.log('from index:',rect.width()); \r\n    */\r\n};\r\n\r\nlet defaultresults = prepareSVG(\"\", \"testfile.svg\");\r\nconsole.log(defaultresults);\r\n\r\nexport { prepareSVG };"],"file":"index.js"}