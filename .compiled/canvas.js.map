{"version":3,"sources":["../lib/canvas.js"],"names":["SVGJS","require","svgdom","node","rawSVG","window","nodeSVG","document","draw","documentElement","getTestSVGcontent","svg","html","svgcanvas","createElement","setAttribute","body","appendChild","size","rawSvg","filepath","readFileSync"],"mappings":"AAAA;;;;;;;AAOA;;;;;;;AACA,IAAMA,KAAK,GAAGC,OAAO,CAAC,QAAD,CAArB;;AACA,IAAIC,MAAM,GAAG;AACTC,EAAAA,IADS,kBACQ;AAAA,QAAXC,MAAW,uEAAJ,EAAI;;AACd;AACA;AACC,QAAMC,MAAM,GAAGJ,OAAO,CAAC,QAAD,CAAtB;;AACA,QAAMK,OAAO,GAAGN,KAAK,CAACK,MAAD,CAArB;AACA,QAAME,QAAQ,GAAGF,MAAM,CAACE,QAAxB,CALa,CAMb;;AACA,QAAMC,IAAI,GAAGF,OAAO,CAACC,QAAQ,CAACE,eAAV,CAApB,CAPa,CAQb;;AACA,QAAIL,MAAM,IAAE,EAAZ,EAAgBA,MAAM,GAAGM,iBAAiB,CAAC,mBAAD,CAA1B;AAChBF,IAAAA,IAAI,CAACG,GAAL,CAASP,MAAT;AACA,WAAOE,OAAP;AACH,GAbQ;AAcTM,EAAAA,IAdS,gBAcJR,MAdI,EAcG;AACR,QAAMS,SAAS,GAAGN,QAAQ,CAACO,aAAT,CAAuB,KAAvB,CAAlB;AACAD,IAAAA,SAAS,CAACE,YAAV,CAAuB,IAAvB,EAA6B,WAA7B;AACAF,IAAAA,SAAS,CAACE,YAAV,CAAuB,QAAvB,EAAiC,MAAjC,EAHQ,CAIR;;AACAR,IAAAA,QAAQ,CAACS,IAAT,CAAcC,WAAd,CAA0BJ,SAA1B;AACAb,IAAAA,KAAK,CAAC,WAAD,CAAL,CAAmBkB,IAAnB,CAAwB,KAAxB,EAA+B,KAA/B,EAAsCP,GAAtC,CAA0CQ,MAA1C,EANQ,CAM2C;;AACnD,WAAOnB,KAAP;AACH;AAtBQ,CAAb;;;AAwBA,SAASU,iBAAT,CAA2BU,QAA3B,EAAqC;AACjC;AACA,SAAOnB,OAAO,CAAC,IAAD,CAAP,CAAcoB,YAAd,CAA2BD,QAA3B,EAAqC,MAArC,CAAP;AACH,C,CAGD;;AACA","sourcesContent":["/**\r\n * svgm\r\n * https://github.com/mironcat/svgm\r\n *\r\n * Copyright (c) 2018 mironcat\r\n * Licensed under the MIT license.\r\n */\r\n'use strict';\r\nconst SVGJS = require('svg.js');\r\nlet svgdom = {\r\n    node (rawSVG='') {\r\n       // console.log('from Canvas:',rawSVG);\r\n       // returns a window with a document and an svg root node\r\n        const window = require('svgdom');\r\n        const nodeSVG = SVGJS(window);\r\n        const document = window.document;\r\n        // create svg.js instance\r\n        const draw = nodeSVG(document.documentElement);\r\n        //read test .svg file\r\n        if (rawSVG=='') rawSVG = getTestSVGcontent('./assets/test.svg');\r\n        draw.svg(rawSVG);\r\n        return nodeSVG;\r\n    },\r\n    html(rawSVG){\r\n        const svgcanvas = document.createElement('DIV');\r\n        svgcanvas.setAttribute('id', 'svgcanvas');\r\n        svgcanvas.setAttribute('hidden', 'true');\r\n        //\r\n        document.body.appendChild(svgcanvas);\r\n        SVGJS('svgcanvas').size('800', '900').svg(rawSvg); // прорисовка svg        \r\n        return SVGJS;\r\n    }\r\n};\r\nfunction getTestSVGcontent(filepath) {\r\n    //read test .svg file\r\n    return require('fs').readFileSync(filepath, 'utf8');\r\n}\r\n\r\n\r\n//testing\r\n/* const svgdata = getTestSVGcontent('./assets/test2.svg');\r\nlet SVG = svgdom['node'](svgdata);\r\nlet rect = SVG.select('rect').members[0];\r\nconsole.log(rect.width()); */\r\n\r\nexport { svgdom };"],"file":"canvas.js"}